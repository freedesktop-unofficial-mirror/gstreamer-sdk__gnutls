@node srptool Invocation
@subsection Invoking srptool
@pindex srptool
@cindex GnuTLS SRP tool
@ignore
#  -*- buffer-read-only: t -*- vi: set ro:
# 
# DO NOT EDIT THIS FILE   (invoke-srptool.texi)
# 
# It has been AutoGen-ed  February 19, 2012 at 11:22:32 PM by AutoGen 5.15pre10
# From the definitions    ../src/srptool-args.def
# and the template file   agtexi-cmd.tpl
@end ignore


Simple program that emulates the programs in the Stanford SRP (Secure
Remote Password) libraries using GnuTLS.  It is intended for use in  places
where you don't expect SRP authentication to be the used for system users.

In  brief,  to use SRP you need to create two files. These are the password
file that holds the users and the verifiers associated with  them  and  the
configuration file to hold the group parameters (called tpasswd.conf).

This section was generated by @strong{AutoGen},
using the @code{agtexi-cmd} template and the option descriptions for the @code{srptool} program.
This software is released under the GNU General Public License, version 3 or later.


@subsubheading srptool usage (-h)
@cindex srptool usage

This is the automatically generated usage text for srptool:

@exampleindent 0
@example
srptool - GnuTLS SRP tool - Ver. @@VERSION@@
USAGE:  srptool [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]...

   -d, --debug=num            Enable debugging.
                                - It must be in the range:
                                  0 to 9999
   -i, --index                specify the index of the group parameters in tpasswd.conf to use.
   -u, --username=str         specify a username
   -p, --passwd=str           specify a password file.
   -s, --salt=num             specify salt size.
       --verify               just verify the password.
   -v, --passwd-conf=str      specify a password conf file.
       --create-conf=str      Generate a password configuration file.
   -v, --version[=arg]        Output version information and exit
   -h, --help                 Display extended usage information and exit
   -!, --more-help            Extended usage information passed thru pager

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.



Simple program that emulates the programs in the Stanford SRP (Secure
Remote Password) libraries using GnuTLS.  It is intended for use in
places where you don't expect SRP authentication to be the used for
system users.

In  brief,  to use SRP you need to create two files. These are the
password file that holds the users and the verifiers associated with
them  and  the configuration file to hold the group parameters (called
tpasswd.conf).

please send bug reports to:  bug-gnutls@@gnu.org
@end example
@exampleindent 4

@subsubheading create-conf option
@cindex srptool-create-conf

This is the ``generate a password configuration file.'' option.
This generates a password configuration file (tpasswd.conf)
containing the required for TLS parameters.

@subsubheading debug option (-d)
@cindex srptool-debug

This is the ``enable debugging.'' option.
Specifies the debug level.

@subsubheading index option (-i)
@cindex srptool-index

This is the ``specify the index of the group parameters in tpasswd.conf to use.'' option.


@subsubheading passwd option (-p)
@cindex srptool-passwd

This is the ``specify a password file.'' option.


@subsubheading passwd-conf option (-v)
@cindex srptool-passwd-conf

This is the ``specify a password conf file.'' option.
Specify a filename or a PKCS #11 URL to read the CAs from.

@subsubheading salt option (-s)
@cindex srptool-salt

This is the ``specify salt size.'' option.


@subsubheading username option (-u)
@cindex srptool-username

This is the ``specify a username'' option.


@subsubheading verify option
@cindex srptool-verify

This is the ``just verify the password.'' option.
Verifies the password provided against the password file.

@subsubheading srptool exit status

One of the following exit values will be returned:
@table @samp
@item 0
Successful program execution.
@item 1
The operation failed or the command syntax was not valid.
@end table


@subsubheading srptool See Also

    gnutls-cli-debug (1), gnutls-serv (1), srptool (1), psktool (1), certtool (1)


@subsubheading srptool Examples

To create @file{tpasswd.conf} which holds the g and n values for SRP protocol
(generator and a large prime), run:
@example
$ srptool --create-conf /etc/tpasswd.conf
@end example

This command will create @file{/etc/tpasswd} and will add user 'test' (you
will also be prompted for a password). Verifiers are stored by default
in the way libsrp expects.
@example
$ srptool --passwd /etc/tpasswd --passwd-conf /etc/tpasswd.conf -u test
@end example


This command will check against a password. If the password matches
the one in @file{/etc/tpasswd} you will get an ok.
@example
$ srptool --passwd /etc/tpasswd --passwd\-conf /etc/tpasswd.conf --verify -u test
@end example

